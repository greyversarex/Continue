Текущее состояние фронтенда неприемлемо. Хедер и футер не синхронизированы, а система перевода не функционирует, несмотря на предыдущие отчеты. Необходимо провести финальную, принудительную синхронизацию всех страниц с использованием эталонных компонентов и отладить механизм перевода до полной работоспособности.
ЗАДАЧА 1: ПРИНУДИТЕЛЬНАЯ ЦЕНТРАЛИЗАЦИЯ ХЕДЕРА И ФУТЕРА
ЭТАЛОН: Возьми HTML-код для хедера (включая всю навигацию, логотип, переключатели языка и валют) и футера ИСКЛЮЧИТЕЛЬНО из файла frontend/index.html. Это единственный источник правды.
ДЕСТРУКТИВНОЕ ОБНОВЛЕНИЕ: Пройдись по КАЖДОМУ .html файлу в папке frontend/ (кроме _header.html и _footer.html, если они существуют). В каждом файле ПОЛНОСТЬЮ УДАЛИ существующий код хедера и футера.
ИНТЕГРАЦИЯ: Используй уже существующий скрипт frontend/public/js/layout-loader.js для асинхронной вставки эталонных _header.html и _footer.html во ВСЕ страницы. Если этого скрипта нет или он неисправен — создай или исправь его.
РЕЗУЛЬТАТ ЭТАПА 1: Абсолютно все страницы сайта должны иметь идентичные, полностью функциональные хедер и футер, взятые с index.html.
ЗАДАЧА 2: ПОЛНАЯ ОТЛАДКА СИСТЕМЫ ПЕРЕВОДА (RU/EN/TJ)
ДИАГНОСТИКА: Проанализируй, почему текущий переключатель языка в хедере НЕ РАБОТАЕТ. Найди и исправь корневую причину (неправильное подключение i18n.js, ошибки в JS-консоли, неверные ключи перевода).
ПОЛНОЕ ПОКРЫТИЕ: Проверь КАЖДУЮ страницу еще раз. Убедись, что ВЕСЬ видимый пользователю текст (статический интерфейс и динамические поля из { "ru": ..., "en": ..., "tj": ... }) имеет соответствующие data-translate атрибуты и записи в словаре i18n.js.
НАСТРОЙКА ЯЗЫКОВ:
Установи Английский (en) как язык по умолчанию.
Обеспечь поддержку трех языков: Английский (en), Русский (ru), Таджикский (tj).
В админ-панели обеспечь наличие трех полей для ввода (en, ru, tj) для всех релевантных сущностей.
РЕЗУЛЬТАТ ЭТАПА 2: При нажатии на RU/EN/TJ в хедере, ВЕСЬ контент на ЛЮБОЙ странице должен мгновенно и корректно переключаться на выбранный язык.
ФИНАЛЬНОЕ ТРЕБОВАНИЕ:
Это не итерация, а финальная задача. После твоей работы я ожидаю получить проект, готовый к развертыванию, где обе вышеописанные проблемы решены на 100%. Предоставь отчет, подтверждающий выполнение каждого пункта этого приказа.
Тема: Генеральный План: Полный Аудит и Синхронизация Всего Функционала Админ-Панели.
Твоя роль: Ты — ведущий разработчик, которому поручили привести в порядок весь проект. Твоя главная задача — понять бизнес-логику каждой части админ-панели и обеспечить 100% соответствие между фронтендом и бэкендом.
План Работы:
Фаза 1: Инвентаризация и Составление Чек-листа (Самый первый шаг).
Просканируй всю кодовую базу админ-панели (frontend/).
Составь и предоставь мне полный список всех разделов, где есть функционал создания или редактирования данных. Например: 1. Туры, 2. Отели, 3. Гиды, 4. Новости, и т.д.
Этот список станет нашим официальным чек-листом. Мы не начнем основную работу, пока не согласуем этот список.
Фаза 2: Глубокий Анализ по Чек-листу.
После того как мы утвердим чек-лист, ты начнешь двигаться по нему пункт за пунктом. Для КАЖДОГО пункта из списка ты должен будешь создать подробный отчет ("Карту Данных"), состоящий из двух частей.
Часть 1 отчета: Карта Данных Фронтенда (Источник Правды).
Для анализируемого раздела (например, "Отели") найди его HTML/JS форму.
Создай подробную таблицу со следующими колонками:
Визуальное Поле: Название поля, как его видит админ ("Название отеля (EN)", "Количество звезд", "Фотографии галереи").
Назначение Поля (Что это?): Объясни бизнес-логику этого поля ("Английское название для международной версии сайта", "Рейтинг отеля от 1 до 5", "Фото для страницы отеля").
Куда идут данные на сайте?: Перечисли все места на публичном сайте, где эти данные должны использоваться ("Карточка отеля в списке", "Заголовок и галерея на странице отеля").
Часть 2 отчета: Анализ Несоответствий с Бэкендом.
Возьми созданную тобой "Карту Данных".
Сравни её с соответствующей моделью в prisma/schema.prisma и с кодом в контроллерах.
Составь четкий список всех проблем для этого раздела:
ОТСУТСТВУЕТ В БАЗЕ: (Пример: В форме есть "Тип питания", но в schema.prisma для Hotel нет поля meal_plan).
НЕ ОБРАБАТЫВАЕТСЯ В КОНТРОЛЛЕРЕ: (Пример: Контроллер updateHotel не обрабатывает загрузку новых фото в галерею).
НЕ ЗАГРУЖАЕТСЯ ПРИ РЕДАКТИРОВАНИИ: (Пример: При редактировании отеля не подгружается выбранный город cityId).
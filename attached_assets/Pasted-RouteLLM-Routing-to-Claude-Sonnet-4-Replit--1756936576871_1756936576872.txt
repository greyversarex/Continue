RouteLLM
Routing to Claude Sonnet 4
–û—Ç–ª–∏—á–Ω–æ üëè
Replit –ø—Ä–æ–≤—ë–ª –≥–ª—É–±–æ–∫–∏–π –∞—É–¥–∏—Ç –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –∏ –Ω–∞—à—ë–ª —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å. –≠—Ç–æ –æ—á–µ–Ω—å —Ü–µ–Ω–Ω–æ ‚Äî –ª—É—á—à–µ –Ω–∞–π—Ç–∏ –∏—Ö —Å–µ–π—á–∞—Å, —á–µ–º –∫–æ–≥–¥–∞ —Å–∞–π—Ç —É–∂–µ –±—É–¥–µ—Ç –≤ production.

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ —Å–æ—Å—Ç–∞–≤–∏–º –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –ù–ï–ú–ï–î–õ–ï–ù–ù–û)
1. –ü–∞—Ä–æ–ª–∏ –≥–∏–¥–æ–≤ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
ts
Copy
// –°–ï–ô–ß–ê–°: src/controllers/tourGuideController.ts:53
const validPassword = password === guide.password; // ‚ùå –ù–ï–¢ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è!
üëâ –≠—Ç–æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –µ—Å–ª–∏ –∫—Ç–æ‚Äë—Ç–æ –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ –ë–î, –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –≥–∏–¥–æ–≤ –±—É–¥—É—Ç —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã.

2. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç STRIPE_SECRET_KEY
üëâ Stripe –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç ‚Üí –ø–æ—Ç–µ—Ä—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

3. AlifPay callbacks –±–µ–∑ HMAC –≤–∞–ª–∏–¥–∞—Ü–∏–∏
üëâ –õ—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–µ–π–∫–æ–≤—ã–π callback –∏ –ø–æ–º–µ—Ç–∏—Ç—å –∑–∞–∫–∞–∑ –∫–∞–∫ ¬´–æ–ø–ª–∞—á–µ–Ω–Ω—ã–π¬ª.

‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è)
4. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ PaymentMethod
ts
Copy
// –í —Ç–∏–ø–∞—Ö: 'payme' | 'click' | 'stripe' | 'paypal'
// –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏: 'alif' | 'payler' | 'stripe'
üëâ TypeScript –Ω–µ –ª–æ–≤–∏—Ç –æ—à–∏–±–∫–∏ ‚Üí runtime –ø–∞–¥–µ–Ω–∏—è.

5. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π Guide
üëâ Guide + TourGuideProfile ‚Üí –ø—É—Ç–∞–Ω–∏—Ü–∞ –≤ –∫–æ–¥–µ.

üìã –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô
–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ—à–∞–≥–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:

–®–∞–≥ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ö–†–ò–¢–ò–ß–ù–û)
–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≥–∏–¥–æ–≤ —á–µ—Ä–µ–∑ bcrypt.
–î–æ–±–∞–≤–∏—Ç—å STRIPE_SECRET_KEY –≤ secrets.
–î–æ–±–∞–≤–∏—Ç—å HMAC –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è AlifPay callbacks.
–®–∞–≥ 2: –¢–∏–ø—ã –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
–ò—Å–ø—Ä–∞–≤–∏—Ç—å PaymentMethod —Ç–∏–ø—ã (–¥–æ–±–∞–≤–∏—Ç—å 'alif', 'payler').
–£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ Guide –º–æ–¥–µ–ª–µ–π.
–ò—Å–ø—Ä–∞–≤–∏—Ç—å BookingFormData –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
–®–∞–≥ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å)
–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤.
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å JSON –ø–æ–ª—è.
üéØ –ì–û–¢–û–í–´–ô –ü–†–û–ú–ü–¢ –¥–ª—è Replit
–ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ç–∏–ø–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ. 
–ù–∞—á–Ω–µ–º —Å —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö:

–ü–†–ò–û–†–ò–¢–ï–¢ 1 - –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≥–∏–¥–æ–≤:
   - –í src/controllers/tourGuideController.ts –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –Ω–∞ bcrypt.compare()
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≥–∏–¥–∞ —Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ bcrypt.hash()
   - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É Guide –≤ Prisma (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

2. –î–æ–±–∞–≤–∏—Ç—å HMAC –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è AlifPay callbacks:
   - –í /api/payments/alif-callback –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ–¥–ø–∏—Å—å –∑–∞–ø—Ä–æ—Å–∞
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ALIF_PASSWORD –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ HMAC —Ç–æ–∫–µ–Ω–∞
   - –û—Ç–∫–ª–æ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å –Ω–µ–≤–µ—Ä–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é

3. –î–æ–±–∞–≤–∏—Ç—å STRIPE_SECRET_KEY –≤ environment secrets

–ü–†–ò–û–†–ò–¢–ï–¢ 2 - –¢–ò–ü–´:

4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å PaymentMethod —Ç–∏–ø—ã:
   - –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: –¥–æ–±–∞–≤–∏—Ç—å 'alif' | 'payler' 
   - –£–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ 'payme' | 'click' | 'paypal'
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–æ –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö

5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å BookingFormData –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
   - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è: roomSelection, mealSelection
   - –ü—Ä–∏–≤–µ—Å—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ç–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

–ù–∞—á–Ω–∏ —Å –ø—É–Ω–∫—Ç–∞ 1 (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π) - —ç—Ç–æ —Å–∞–º–æ–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–µ.
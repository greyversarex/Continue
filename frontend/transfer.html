<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä - Bunyod-Tour</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- üåê –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ò–ù–¢–ï–†–ù–ê–¶–ò–û–ù–ê–õ–ò–ó–ê–¶–ò–ò -->
    <script defer src="/public/js/i18n.js"></script>
    <script defer src="/public/js/layout-loader.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Noto Sans', 'Ubuntu', 'Cantarell', 'Helvetica Neue', sans-serif; }
        
        
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–∏—Ö –º–µ–Ω—é */
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-submenu {
            position: relative;
        }
        
        .dropdown-subcontent {
            display: none;
            position: absolute;
            background-color: #3E3E3E;
            min-width: 300px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1002;
            border-radius: 8px;
            padding: 8px;
            top: 0;
            left: 100%;
        }
        
        .dropdown-submenu:hover .dropdown-subcontent {
            display: block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #3E3E3E;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1001;
            border-radius: 8px;
            padding: 8px 0;
            top: 100%;
            left: 0;
        }
        
        .dropdown-content a {
            color: white !important;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: background-color 0.3s ease;
        }
        
        .dropdown-content a:hover {
            background-color: #4A4A4A;
            border-radius: 4px;
            margin: 0 4px;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        /* –Ø–∑—ã–∫–æ–≤–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä */
        .language-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .lang-selector-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .lang-selector-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .lang-dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            min-width: 180px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1001;
            border-radius: 8px;
            padding: 8px 0;
            top: 100%;
            right: 0;
        }
        
        .lang-dropdown-content.show {
            display: block;
        }
        
        .lang-option {
            color: #374151 !important;
            padding: 10px 16px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: background-color 0.3s ease;
        }
        
        .lang-option:hover {
            background-color: #f3f4f6;
        }
        
        .lang-option.active {
            background-color: #eff6ff;
            color: #1d4ed8 !important;
        }
        
        .flag {
            width: 20px;
            height: 15px;
            border-radius: 2px;
            background-size: cover;
            background-position: center;
        }
        
        .flag-ru { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSI2MDAiIGZpbGw9IiNmZmYiLz4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMwMDM5YTYiLz4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSIyMDAiIHk9IjQwMCIgZmlsbD0iI2Q1MmIxZSIvPgo8L3N2Zz4K'); }
        .flag-us { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIzNSIgaGVpZ2h0PSI2NTAiIHZpZXdCb3g9IjAgMCAxMjM1IDY1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTIzNSIgaGVpZ2h0PSI2NTAiIGZpbGw9IiNiMjIyMzQiLz48L3N2Zz4K'); }
        .flag-tj { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSI0NTAiIGZpbGw9IiNkYzE0M2MiLz4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSIxNTAiIHk9IjE1MCIgZmlsbD0iI2ZmZiIvPgo8cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjE1MCIgeT0iMzAwIiBmaWxsPSIjMDA2YTRlIi8+Cjwvc3ZnPgo='); }
        .flag-ir { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjU0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSI1NDAiIGZpbGw9IiMyMzlhM2QiLz4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSIxODAiIHk9IjE4MCIgZmlsbD0iI2ZmZiIvPgo8cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjE4MCIgeT0iMzYwIiBmaWxsPSIjZGExNDI2Ii8+Cjwvc3ZnPgo='); }
        .flag-de { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjU0MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSI1NDAiIGZpbGw9IiMwMDAiLz4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSIxODAiIHk9IjE4MCIgZmlsbD0iI2RkMDAyNyIvPgo8cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjE4MCIgeT0iMzYwIiBmaWxsPSIjZmZjZTAwIi8+Cjwvc3ZnPgo='); }
        .flag-cn { background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjkwMCIgaGVpZ2h0PSI2MDAiIGZpbGw9IiNkZTI5MTAiLz4KPC9zdmc+'); }
        
        .lang-name {
            font-size: 14px;
            font-weight: 500;
        }
        
        .selected-lang {
            font-size: 13px;
            font-weight: 500;
        }
        
        .dropdown-arrow {
            transition: transform 0.3s ease;
        }
        
        .language-dropdown.active .dropdown-arrow {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-gray-50">

    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è header -->
    <div id="header-container"></div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="bg-gray-50 py-12">
        <div class="max-w-4xl mx-auto px-6">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">–¢—Ä–∞–Ω—Å—Ñ–µ—Ä</h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    –ó–∞–∫–∞–∂–∏—Ç–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä –∫—É–¥–∞ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –ë—ã—Å—Ç—Ä–æ, —É–¥–æ–±–Ω–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ.
                </p>
            </div>

            <!-- –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12">
                <div class="mb-6">
                    <h2 class="text-2xl font-semibold text-gray-900 mb-2">–ó–∞–∫–∞–∑–∞—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä</h2>
                    <p class="text-gray-600">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è</p>
                </div>

                <form id="transferForm" class="space-y-6">
                    <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-2">
                                –§–ò–û <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="fullName" name="fullName" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                                Email
                            </label>
                            <input type="email" id="email" name="email" 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="your@email.com">
                        </div>
                    </div>

                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                            –¢–µ–ª–µ—Ñ–æ–Ω
                        </label>
                        <input type="tel" id="phone" name="phone" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="+992 XX XXX XXXX">
                    </div>

                    <!-- –î–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="pickupLocation" class="block text-sm font-medium text-gray-700 mb-2">
                                –ú–µ—Å—Ç–æ –ø—Ä–∏—ë–º–∞ <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="pickupLocation" name="pickupLocation" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="–û—Ç–∫—É–¥–∞ –∑–∞–±—Ä–∞—Ç—å (–∞–¥—Ä–µ—Å, –æ—Ç–µ–ª—å, –∞—ç—Ä–æ–ø–æ—Ä—Ç)">
                        </div>
                        <div>
                            <label for="dropoffLocation" class="block text-sm font-medium text-gray-700 mb-2">
                                –ú–µ—Å—Ç–æ –≤—ã—Å–∞–¥–∫–∏ <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="dropoffLocation" name="dropoffLocation" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                placeholder="–ö—É–¥–∞ –¥–æ—Å—Ç–∞–≤–∏—Ç—å (–∞–¥—Ä–µ—Å, –æ—Ç–µ–ª—å)">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label for="pickupDate" class="block text-sm font-medium text-gray-700 mb-2">
                                –î–∞—Ç–∞ <span class="text-red-500">*</span>
                            </label>
                            <input type="date" id="pickupDate" name="pickupDate" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label for="pickupTime" class="block text-sm font-medium text-gray-700 mb-2">
                                –í—Ä–µ–º—è <span class="text-red-500">*</span>
                            </label>
                            <input type="time" id="pickupTime" name="pickupTime" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <div>
                            <label for="numberOfPeople" class="block text-sm font-medium text-gray-700 mb-2">
                                –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
                            </label>
                            <input type="number" id="numberOfPeople" name="numberOfPeople" min="1" max="8" value="1"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                    </div>

                    <div>
                        <label for="vehicleType" class="block text-sm font-medium text-gray-700 mb-2">
                            –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
                        </label>
                        <select id="vehicleType" name="vehicleType" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</option>
                            <option value="sedan">–°–µ–¥–∞–Ω (1-4 –ø–∞—Å—Å–∞–∂–∏—Ä–∞)</option>
                            <option value="suv">–í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫ (1-5 –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤)</option>
                            <option value="minibus">–ú–∏–∫—Ä–æ–∞–≤—Ç–æ–±—É—Å (6-12 –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤)</option>
                            <option value="bus">–ê–≤—Ç–æ–±—É—Å (13+ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤)</option>
                        </select>
                    </div>

                    <div>
                        <label for="specialRequests" class="block text-sm font-medium text-gray-700 mb-2">
                            –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è
                        </label>
                        <textarea id="specialRequests" name="specialRequests" rows="3"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            placeholder="–î–µ—Ç—Å–∫–æ–µ –∞–≤—Ç–æ–∫—Ä–µ—Å–ª–æ, –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –ø—É—Ç–∏, –æ—Å–æ–±—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è..."></textarea>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                    <div class="pt-4">
                        <button type="submit" id="submitBtn"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            <span id="submitText">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</span>
                            <span id="loadingText" class="hidden">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è...
                            </span>
                        </button>
                    </div>
                </form>

                <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
                <div id="notification" class="hidden mt-6 p-4 rounded-lg">
                    <div id="notificationContent"></div>
                </div>
            </div>

        </div>
    </main>


    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è footer -->
    <div id="footer-container"></div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤–æ–≥–æ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–Ω—é
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('langDropdown');
            const langDropdown = document.querySelector('.language-dropdown');
            
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
                langDropdown.classList.remove('active');
            } else {
                dropdown.classList.add('show');
                langDropdown.classList.add('active');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
        function selectLanguage(langCode, flagClass, langName) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –≤ –∫–Ω–æ–ø–∫–µ
            document.querySelector('.selected-flag').className = `selected-flag ${flagClass}`;
            document.querySelector('.selected-lang').textContent = langName;
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
            document.querySelectorAll('.lang-option').forEach(option => {
                option.classList.remove('active');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
            document.querySelector(`[data-lang="${langCode}"]`).classList.add('active');
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
            toggleLanguageDropdown();
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            console.log('Selected language:', langCode);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∞–ª—é—Ç–Ω–æ–≥–æ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ –º–µ–Ω—é
        function toggleCurrencyDropdown() {
            const dropdown = document.getElementById('currencyDropdown');
            const currencyDropdown = dropdown.parentElement;
            
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
                currencyDropdown.classList.remove('active');
            } else {
                dropdown.classList.add('show');
                currencyDropdown.classList.add('active');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤–∞–ª—é—Ç—ã
        function selectCurrency(currencyCode, currencyName) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–ª—é—Ç—É –≤ –∫–Ω–æ–ø–∫–µ
            document.querySelector('.selected-currency').textContent = currencyName;
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –æ–ø—Ü–∏–π
            document.querySelectorAll('#currencyDropdown .lang-option').forEach(option => {
                option.classList.remove('active');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏
            document.querySelector(`[data-currency="${currencyCode}"]`).classList.add('active');
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
            toggleCurrencyDropdown();
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è —Å–º–µ–Ω—ã –≤–∞–ª—é—Ç—ã
            console.log('Selected currency:', currencyCode);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.addEventListener('click', function(event) {
            const langDropdown = document.querySelector('.language-dropdown');
            const langDropdownContent = document.getElementById('langDropdown');
            const currencyDropdowns = document.querySelectorAll('.language-dropdown');
            const currencyDropdownContent = document.getElementById('currencyDropdown');
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ —è–∑—ã–∫–æ–≤–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
            if (!langDropdown.contains(event.target)) {
                langDropdownContent.classList.remove('show');
                langDropdown.classList.remove('active');
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤–∞–ª—é—Ç–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
            currencyDropdowns.forEach(dropdown => {
                if (dropdown.contains(currencyDropdownContent) && !dropdown.contains(event.target)) {
                    currencyDropdownContent.classList.remove('show');
                    dropdown.classList.remove('active');
                }
            });
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞
        document.addEventListener('DOMContentLoaded', function() {
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
            const today = new Date().toISOString().split('T')[0];
            const pickupDateInput = document.getElementById('pickupDate');
            if (pickupDateInput) {
                pickupDateInput.min = today;
                console.log('Transfer form initialized, min date set to:', today);
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
            const transferForm = document.getElementById('transferForm');
            if (transferForm) {
                transferForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const submitBtn = document.getElementById('submitBtn');
                    const submitText = document.getElementById('submitText');
                    const loadingText = document.getElementById('loadingText');
                    const notification = document.getElementById('notification');
                    const notificationContent = document.getElementById('notificationContent');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
                    submitBtn.disabled = true;
                    submitText.classList.add('hidden');
                    loadingText.classList.remove('hidden');
                    notification.classList.add('hidden');
                    
                    try {
                        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
                        const formData = new FormData(this);
                        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                        const email = formData.get('email')?.trim();
                        const phone = formData.get('phone')?.trim();
                        if (!email && !phone) {
                            notificationContent.innerHTML = `
                                <div class="flex items-center">
                                    <svg class="w-6 h-6 text-red-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-red-800">–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</h4>
                                        <p class="text-red-600">–£–∫–∞–∂–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏: email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω</p>
                                    </div>
                                </div>
                            `;
                            notification.classList.remove('hidden');
                            notification.classList.add('bg-red-50', 'border', 'border-red-200');
                            return;
                        }
                        
                        const data = {
                            fullName: formData.get('fullName'),
                            email: email || undefined,
                            phone: phone || undefined,
                            pickupLocation: formData.get('pickupLocation'),
                            dropoffLocation: formData.get('dropoffLocation'),
                            pickupTime: formData.get('pickupTime'),
                            pickupDate: formData.get('pickupDate'),
                            numberOfPeople: parseInt(formData.get('numberOfPeople')) || 1,
                            vehicleType: formData.get('vehicleType') || undefined,
                            specialRequests: formData.get('specialRequests') || undefined
                        };
                        
                        console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä:', data);
                        
                        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
                        const response = await fetch('/api/transfer-requests', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(data)
                        });
                        
                        const result = await response.json();
                        console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', result);
                        
                        if (result.success) {
                            // –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
                            notificationContent.innerHTML = `
                                <div class="flex items-center">
                                    <svg class="w-6 h-6 text-green-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-green-800">–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h4>
                                        <p class="text-green-600">–ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞.</p>
                                    </div>
                                </div>
                            `;
                            notification.classList.remove('hidden');
                            notification.classList.add('bg-green-50', 'border', 'border-green-200');
                            notification.classList.remove('bg-red-50', 'border-red-200');
                            
                            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                            this.reset();
                            if (pickupDateInput) {
                                pickupDateInput.min = today;
                            }
                            
                        } else {
                            // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
                            notificationContent.innerHTML = `
                                <div class="flex items-center">
                                    <svg class="w-6 h-6 text-red-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <div>
                                        <h4 class="font-semibold text-red-800">–û—à–∏–±–∫–∞</h4>
                                        <p class="text-red-600">${result.error || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏'}</p>
                                    </div>
                                </div>
                            `;
                            notification.classList.remove('hidden');
                            notification.classList.add('bg-red-50', 'border', 'border-red-200');
                            notification.classList.remove('bg-green-50', 'border-green-200');
                        }
                        
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞—è–≤–∫–∏:', error);
                        notificationContent.innerHTML = `
                            <div class="flex items-center">
                                <svg class="w-6 h-6 text-red-600 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                                <div>
                                    <h4 class="font-semibold text-red-800">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏</h4>
                                    <p class="text-red-600">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞</p>
                                </div>
                            </div>
                        `;
                        notification.classList.remove('hidden');
                        notification.classList.add('bg-red-50', 'border', 'border-red-200');
                        notification.classList.remove('bg-green-50', 'border-green-200');
                    } finally {
                        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                        submitBtn.disabled = false;
                        submitText.classList.remove('hidden');
                        loadingText.classList.add('hidden');
                    }
                });
            }
        });
    </script>
</body>
</html>